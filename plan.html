<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="plan.css">
    <title>Your Plan</title>
</head>
<body>
    <div class="container">
        <h1>Your Plan</h1>
        <p>Here's your customized plan based on your group:</p>
        <ul id="plan-list"></ul>
    </div>

    <script>
        const planList = document.getElementById("plan-list");
        const userGroup = new URLSearchParams(window.location.search).get("userGroup");

        function generatePlan() {
            // Fetch the custom plan based on the user's group
            fetch('/custom_plan.json')
                .then(response => response.json())
                .then(plans => {
                    // Check if user's group exists in the plans object
                    if (plans.hasOwnProperty(`group${userGroup}`)) {
                        const userPlan = plans[`group${userGroup}`];

                        userPlan.forEach((item, index) => {
                            const li = document.createElement("li");
                            li.textContent = `Plan item ${index + 1}: ${item}`;
                            planList.appendChild(li);
                        });
                    } else {
                        console.error('Invalid user group.');
                    }
                })
                .catch(error => {
                    console.error('Error fetching custom plan:', error);
                });
        }

        generatePlan();
    </script>
</body>
</html>
